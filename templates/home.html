<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>title</title>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.min.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.js'></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
  </head>
  <body>
    <a href="/add_miles">
        <button>Add Miles</button>
    </a>
    <canvas id="chart2" width="500" height="200"></canvas>
   <script>
      // bar chart data
      var barData = {
        labels : [
          {% for date in dates %}
            "{{ date }}",
          {% endfor %}
        ],
        datasets : [{
          fillColor: "rgba(140,224,255,0.2)",
          strokeColor: "rgba(140,224,255,1)",
          pointColor: "rgba(140,224,255,1)",
          pointStrokeColor: "#fff",
          pointHighlightFill: "#fff",
          pointHighlightStroke: "rgba(151,187,205,1)",
          bezierCurve : true,
          data : [
                  {% for mile in miles %}
                      {{ mile }},
                  {% endfor %}]
        }
        ]
      }
      var data = [{% for mile in miles %}
        {{ mile }},
        {% endfor %}]

      var mychart = document.getElementById("chart2").getContext("2d");
      steps = 1
      max = 10
      // draw bar chart
      var LineChartDemo = new Chart(mychart).Line(barData, {
        scaleOverride: true,
        scaleSteps: steps,
        scaleStepWidth: Math.ceil(max / steps),
        scaleStartValue: 0,
        scaleShowVerticalLines: true,
        scaleShowGridLines : true,
        barShowStroke : true,
        scaleShowLabels: true,
        bezierCurve: false,
      });
   </script>

  </body>
</html>
